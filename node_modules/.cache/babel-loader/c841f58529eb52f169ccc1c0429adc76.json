{"ast":null,"code":"import _objectSpread from\"C:/Users/rudid/OneDrive/Documents/React/sharestead-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useMemo}from'react';import{Card,Button}from'react-bootstrap';import{useDropzone}from'react-dropzone';import{faUpload}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import axios from'axios';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var baseStyle={flex:1,display:'flex',flexDirection:'column',alignItems:'center',padding:'20px',borderWidth:2,borderRadius:10,borderColor:'#000',borderStyle:'dashed',backgroundColor:'#fafafa',color:'#000',outline:'none',transition:'border .24s ease-in-out'};var activeStyle={borderColor:'#2196f3'};var acceptStyle={borderColor:'#00e676'};var rejectStyle={borderColor:'#ff1744'};function Photo(props){var _useDropzone=useDropzone({accept:'image/*',noClick:true,noKeyboard:true}),getRootProps=_useDropzone.getRootProps,getInputProps=_useDropzone.getInputProps,isDragActive=_useDropzone.isDragActive,isDragAccept=_useDropzone.isDragAccept,isDragReject=_useDropzone.isDragReject,acceptedFiles=_useDropzone.acceptedFiles,fileRejections=_useDropzone.fileRejections,open=_useDropzone.open;var style=useMemo(function(){return _objectSpread(_objectSpread(_objectSpread(_objectSpread({},baseStyle),isDragActive?activeStyle:{}),isDragAccept?acceptStyle:{}),isDragReject?rejectStyle:{});},[isDragActive,isDragReject,isDragAccept]);var acceptedFileItems=acceptedFiles.map(function(file){return/*#__PURE__*/_jsxs(\"li\",{children:[file.path,\" - \",file.size,\" bytes\"]},file.path);});var fileRejectionItems=fileRejections.map(function(_ref){var file=_ref.file,errors=_ref.errors;return/*#__PURE__*/_jsxs(\"li\",{children:[file.path,\" - \",file.size,\" bytes\",/*#__PURE__*/_jsx(\"ul\",{children:errors.map(function(e){return/*#__PURE__*/_jsx(\"li\",{children:e.message},e.code);})})]},file.path);});var uploadFiles=function uploadFiles(){var userId=localStorage.getItem('userId');var token=localStorage.getItem('token');var headers={'Content-Type':'multipart/form-data','Authorization':\"Bearer \".concat(token)};var formData=new FormData();acceptedFiles.map(function(file){return formData.append('file',file);});axios.post(\"https://cors-everywhere.herokuapp.com/http://sharestead-env-2.eba-mbvpyjui.eu-west-3.elasticbeanstalk.com/image/\".concat(userId,\"/upload\"),formData,{headers:headers}).then(function(response){if(response.status===200){alert('File(s) successfully uploaded');}}).catch(function(error){return console.log(error.message);});};return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(Card.Header,{style:{fontSize:'1.5rem',fontWeight:'bold'},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUpload,style:{color:'#e2821d'}}),\" Upload Your Photos\"]}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps({style:style})),{},{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsx(\"p\",{children:\"Drag 'n' drop some images here\"}),/*#__PURE__*/_jsx(\"em\",{children:\"Only images (.jpg, .png, .bmp, etc) will be accepted\"}),/*#__PURE__*/_jsx(Button,{className:\"btn btn-primary mt-3\",onClick:open,children:\"Click to upload files\"})]})),/*#__PURE__*/_jsxs(\"aside\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Accepted files\"}),/*#__PURE__*/_jsx(\"ul\",{children:acceptedFileItems}),/*#__PURE__*/_jsx(\"h4\",{children:\"Rejected files\"}),/*#__PURE__*/_jsx(\"ul\",{children:fileRejectionItems})]})]})}),/*#__PURE__*/_jsx(Card.Footer,{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end\",children:/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:uploadFiles,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUpload,style:{marginRight:'5px'}}),\"Upload\"]})})})})]});}export default Photo;","map":{"version":3,"sources":["C:/Users/rudid/OneDrive/Documents/React/sharestead-frontend/src/components/Photo.js"],"names":["React","useMemo","Card","Button","useDropzone","faUpload","FontAwesomeIcon","axios","baseStyle","flex","display","flexDirection","alignItems","padding","borderWidth","borderRadius","borderColor","borderStyle","backgroundColor","color","outline","transition","activeStyle","acceptStyle","rejectStyle","Photo","props","accept","noClick","noKeyboard","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","acceptedFiles","fileRejections","open","style","acceptedFileItems","map","file","path","size","fileRejectionItems","errors","e","message","code","uploadFiles","userId","localStorage","getItem","token","headers","formData","FormData","append","post","then","response","status","alert","catch","error","console","log","fontSize","fontWeight","marginRight"],"mappings":"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","sourcesContent":["import React, { useMemo } from 'react';\r\nimport { Card, Button } from 'react-bootstrap';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { faUpload } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport axios from 'axios';\r\n\r\nconst baseStyle = {\r\n    flex: 1,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: '20px',\r\n    borderWidth: 2,\r\n    borderRadius: 10,\r\n    borderColor: '#000',\r\n    borderStyle: 'dashed',\r\n    backgroundColor: '#fafafa',\r\n    color: '#000',\r\n    outline: 'none',\r\n    transition: 'border .24s ease-in-out'\r\n};\r\n\r\nconst activeStyle = {\r\n    borderColor: '#2196f3'\r\n};\r\n\r\nconst acceptStyle = {\r\n    borderColor: '#00e676'\r\n};\r\n\r\nconst rejectStyle = {\r\n    borderColor: '#ff1744'\r\n};\r\n\r\nfunction Photo(props) {\r\n\r\n    const {\r\n        getRootProps,\r\n        getInputProps,\r\n        isDragActive,\r\n        isDragAccept,\r\n        isDragReject,\r\n        acceptedFiles,\r\n        fileRejections,\r\n        open\r\n    } = useDropzone({ accept: 'image/*', noClick: true, noKeyboard: true });\r\n\r\n    const style = useMemo(() => ({\r\n        ...baseStyle,\r\n        ...(isDragActive ? activeStyle : {}),\r\n        ...(isDragAccept ? acceptStyle : {}),\r\n        ...(isDragReject ? rejectStyle : {})\r\n    }), [\r\n        isDragActive,\r\n        isDragReject,\r\n        isDragAccept\r\n    ]);\r\n\r\n    const acceptedFileItems = acceptedFiles.map(file => (\r\n        <li key={file.path}>\r\n            {file.path} - {file.size} bytes\r\n        </li>\r\n    ));\r\n\r\n    const fileRejectionItems = fileRejections.map(({ file, errors }) => (\r\n        <li key={file.path}>\r\n            {file.path} - {file.size} bytes\r\n            <ul>\r\n                {errors.map(e => (\r\n                    <li key={e.code}>{e.message}</li>\r\n                ))}\r\n            </ul>\r\n        </li>\r\n    ));\r\n\r\n    const uploadFiles = () => {\r\n\r\n        let userId = localStorage.getItem('userId');\r\n        let token = localStorage.getItem('token');\r\n\r\n        const headers = {\r\n            'Content-Type': 'multipart/form-data',\r\n            'Authorization': `Bearer ${token}`\r\n        }\r\n\r\n        var formData = new FormData();\r\n        acceptedFiles.map(file => (\r\n            formData.append('file', file)\r\n        ));\r\n\r\n        axios.post(`https://cors-everywhere.herokuapp.com/http://sharestead-env-2.eba-mbvpyjui.eu-west-3.elasticbeanstalk.com/image/${userId}/upload`, formData, {\r\n            headers: headers\r\n        }).then(response => {\r\n            if (response.status === 200) {\r\n                alert('File(s) successfully uploaded');\r\n            }\r\n        }).catch(error => console.log(error.message));\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <Card.Header style={{ fontSize: '1.5rem', fontWeight: 'bold' }}>\r\n                <FontAwesomeIcon icon={faUpload} style={{ color: '#e2821d' }} /> Upload Your Photos\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <div className=\"container\">\r\n                    <div {...getRootProps({ style })}>\r\n                        <input {...getInputProps()} />\r\n                        <p>Drag 'n' drop some images here</p>\r\n                        <em>Only images (.jpg, .png, .bmp, etc) will be accepted</em>\r\n                        <Button className=\"btn btn-primary mt-3\" onClick={open}>Click to upload files</Button>\r\n                    </div>\r\n                    <aside className=\"mt-3\">\r\n                        <h4>Accepted files</h4>\r\n                        <ul>{acceptedFileItems}</ul>\r\n                        <h4>Rejected files</h4>\r\n                        <ul>{fileRejectionItems}</ul>\r\n                    </aside>\r\n                </div>\r\n            </Card.Body>\r\n            <Card.Footer>\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <Button variant=\"success\" onClick={uploadFiles} >\r\n                        <div><FontAwesomeIcon icon={faUpload} style={{ marginRight: '5px' }} />\r\n                            Upload\r\n                        </div>\r\n                    </Button>\r\n                </div>\r\n            </Card.Footer>\r\n        </Card>\r\n\r\n    );\r\n}\r\n\r\nexport default Photo\r\n"]},"metadata":{},"sourceType":"module"}